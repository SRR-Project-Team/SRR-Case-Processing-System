{"ast":null,"code":"import axios from 'axios';\n\n// Batch processing response type\n\n// API base configuration\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8001';\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 120000 // 120 seconds timeout (2 minutes) - reserved for RCC OCR processing\n});\n\n// Single file processing API\nexport const processFile = async file => {\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await apiClient.post('/api/process-srr-file', formData);\n\n    // Convert backend response format to frontend expected format\n    const backendResponse = response.data;\n    return {\n      filename: backendResponse.filename,\n      status: backendResponse.status,\n      message: backendResponse.message,\n      data: backendResponse.structured_data,\n      // Map structured_data to data\n      error: backendResponse.error,\n      summary: backendResponse.summary,\n      raw_content: backendResponse.raw_content // Include original file content for chat\n    };\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      var _error$response, _error$response$data;\n      throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message || 'File processing failed');\n    }\n    throw new Error('Network connection failed');\n  }\n};\n\n// Multi-file batch processing API\nexport const processMultipleFiles = async files => {\n  try {\n    const formData = new FormData();\n\n    // Add all files to FormData\n    files.forEach(file => {\n      formData.append('files', file);\n    });\n    const response = await apiClient.post('/api/process-multiple-files', formData);\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      var _error$response2, _error$response2$data;\n      throw new Error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message || 'Batch file processing failed');\n    }\n    throw new Error('Network connection failed');\n  }\n};\n\n// Health check API\nexport const healthCheck = async () => {\n  try {\n    const response = await apiClient.get('/health');\n    return response.data;\n  } catch (error) {\n    throw new Error('API service unavailable');\n  }\n};\n\n// Query case information API (simulated implementation)\nexport const queryCase = async request => {\n  try {\n    // Here you can implement actual query logic\n    // Currently returns simulated response\n    // context: extracted data raw_content: raw content of the file\n    const {\n      query,\n      context,\n      raw_content\n    } = request;\n\n    // Allow chat even without uploaded files - backend can handle general queries\n    // and retrieve information from historical database\n    const response = await axios.post(`${API_BASE_URL}/api/chat`, {\n      query,\n      context: context || {},\n      raw_content: raw_content || ''\n    }, {\n      timeout: 30000 // 30 seconds timeout\n    });\n\n    // Ensure we always return a string (handle edge cases)\n    const data = response.data;\n\n    // If backend returns an object (shouldn't happen now, but handle gracefully)\n    if (typeof data === 'object' && data !== null) {\n      if ('message' in data) {\n        return String(data.message);\n      }\n      return JSON.stringify(data);\n    }\n\n    // If data is null or undefined\n    if (!data) {\n      return 'No response received from the server.';\n    }\n\n    // Normal case: return as string\n    return String(data);\n\n    // Simple query matching logic\n    // const lowerQuery = query.toLowerCase();\n\n    // if (lowerQuery.includes('case')) {\n    //   return `Case Number: ${context.C_case_number || 'Unknown'}\\nSource: ${context.B_source || 'Unknown'}`;\n    // }\n\n    // if (lowerQuery.includes('date')) {\n    //   return `Date Received: ${context.A_date_received || 'Unknown'}\\n10-Day Rule Due Date: ${context.K_10day_rule_due_date || 'Unknown'}`;\n    // }\n\n    // if (lowerQuery.includes('contact')) {\n    //   return `Caller: ${context.E_caller_name || 'Unknown'}\\nContact Number: ${context.F_contact_no || 'Unknown'}`;\n    // }\n\n    // if (lowerQuery.includes('slope')) {\n    //   return `Slope Number: ${context.G_slope_no || 'Unknown'}\\nLocation: ${context.H_location || 'Unknown'}`;\n    // }\n\n    // if (lowerQuery.includes('nature')) {\n    //   return `Nature of Request: ${context.I_nature_of_request || 'Unknown'}`;\n    // }\n\n    // Default return case summary\n    //     return `Case Summary:\n    // â€¢ Case Number: ${context.C_case_number || 'Unknown'}\n    // â€¢ Source: ${context.B_source || 'Unknown'}\n    // â€¢ Date Received: ${context.A_date_received || 'Unknown'}\n    // â€¢ Caller: ${context.E_caller_name || 'Unknown'}\n    // â€¢ Slope Number: ${context.G_slope_no || 'Unknown'}\n    // â€¢ Nature of Request: ${context.I_nature_of_request || 'Unknown'}`;\n  } catch (error) {\n    throw new Error('Query failed, please try again later');\n  }\n};\n\n// Find similar cases API\nexport const findSimilarCases = async (caseData, limit = 10, minSimilarity = 0.3) => {\n  try {\n    const response = await axios.post(`${API_BASE_URL}/api/find-similar-cases`, {\n      ...caseData,\n      limit,\n      min_similarity: minSimilarity\n    }, {\n      timeout: 30000 // 30 seconds timeout\n    });\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      var _error$response3, _error$response3$data;\n      throw new Error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || error.message || 'Failed to find similar cases');\n    }\n    throw new Error('Network connection failed');\n  }\n};\n\n// Get case statistics API\nexport const getCaseStatistics = async filters => {\n  try {\n    const params = new URLSearchParams();\n    if (filters.location) params.append('location', filters.location);\n    if (filters.slope_no) params.append('slope_no', filters.slope_no);\n    if (filters.caller_name) params.append('caller_name', filters.caller_name);\n    const response = await axios.get(`${API_BASE_URL}/api/case-statistics?${params.toString()}`, {\n      timeout: 30000\n    });\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      var _error$response4, _error$response4$data;\n      throw new Error(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || error.message || 'Failed to get statistics');\n    }\n    throw new Error('Network connection failed');\n  }\n};\n\n// å‘åç«¯å‘é€è¯·æ±‚\nconst registerToBackend = async () => {\n  // 1. åç«¯æ¥å£åœ°å€ï¼ˆå’Œä½ åç«¯å®šä¹‰çš„ /api/register ä¸€è‡´ï¼‰\n  const API_URL = 'http://localhost:8001/api/register';\n  try {\n    // 2. å‘é€POSTè¯·æ±‚åˆ°åç«¯\n    const response = await axios.post(API_URL, formValues, {\n      headers: {\n        'Content-Type': 'application/json' // å‘Šè¯‰åç«¯ä¼ çš„æ˜¯JSONæ ¼å¼\n      },\n      timeout: 10000 // 10ç§’è¶…æ—¶\n    });\n\n    // 3. åç«¯è¿”å›æˆåŠŸçš„å¤„ç†\n    alert('Registration successful! ğŸ‰');\n    console.log('åç«¯è¿”å›æ•°æ®ï¼š', response.data);\n\n    // 4. æ¸…ç©ºè¡¨å•\n    setFormValues({\n      username: '',\n      email: '',\n      phone: '',\n      password: '',\n      confirmPassword: ''\n    });\n\n    // å¯é€‰ï¼šè·³è½¬åˆ°ç™»å½•é¡µ\n    // window.location.href = '/login';\n  } catch (error) {\n    // 5. å¼‚å¸¸å¤„ç†ï¼ˆåç«¯è¿”å›çš„é”™è¯¯/ç½‘ç»œé”™è¯¯ï¼‰\n    let errorMsg = 'Registration failed!';\n\n    // åŒºåˆ†axiosé”™è¯¯å’Œæ™®é€šé”™è¯¯\n    if (axios.isAxiosError(error)) {\n      var _error$response5, _error$response5$data;\n      // åç«¯è¿”å›çš„æ ¡éªŒé”™è¯¯ï¼ˆå¦‚é‚®ç®±å·²æ³¨å†Œã€æ‰‹æœºå·æ ¼å¼é”™è¯¯ï¼‰\n      errorMsg = ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.detail) || error.message;\n    }\n    alert(errorMsg);\n    console.error('æ³¨å†Œå¤±è´¥åŸå› ï¼š', error);\n  } finally {\n    // 6. æ— è®ºæˆåŠŸ/å¤±è´¥ï¼Œç»“æŸåŠ è½½çŠ¶æ€\n    setIsLoading(false);\n  }\n};\nconst apiService = {\n  processFile,\n  processMultipleFiles,\n  healthCheck,\n  queryCase,\n  findSimilarCases,\n  getCaseStatistics\n};\nexport default apiService;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","apiClient","create","baseURL","timeout","processFile","file","formData","FormData","append","response","post","backendResponse","data","filename","status","message","structured_data","error","summary","raw_content","isAxiosError","_error$response","_error$response$data","Error","processMultipleFiles","files","forEach","_error$response2","_error$response2$data","healthCheck","get","queryCase","request","query","context","String","JSON","stringify","findSimilarCases","caseData","limit","minSimilarity","min_similarity","_error$response3","_error$response3$data","getCaseStatistics","filters","params","URLSearchParams","location","slope_no","caller_name","toString","_error$response4","_error$response4$data","registerToBackend","API_URL","formValues","headers","alert","console","log","setFormValues","username","email","phone","password","confirmPassword","errorMsg","_error$response5","_error$response5$data","detail","setIsLoading","apiService"],"sources":["D:/SRR-Case-Processing-System/frontend/srr-chatbot/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\r\nimport { ApiResponse, QueryRequest } from '../types';\r\n\r\n// Batch processing response type\r\nexport interface BatchProcessingResponse {\r\n  total_files: number;\r\n  successful: number;\r\n  failed: number;\r\n  skipped: number;  // æ·»åŠ æ­¤å­—æ®µ\r\n  results: Array<{\r\n    case_id: string;\r\n    main_file: string;\r\n    email_file?: string | null;\r\n    status: 'success' | 'error' | 'skipped';  // æ·»åŠ  'skipped'\r\n    message: string;\r\n    structured_data?: any;  // ä»…åœ¨ success æ—¶å­˜åœ¨\r\n  }>;\r\n}\r\n\r\n// API base configuration\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8001';\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 120000, // 120 seconds timeout (2 minutes) - reserved for RCC OCR processing\r\n});\r\n\r\n// Single file processing API\r\nexport const processFile = async (file: File): Promise<ApiResponse> => {\r\n  try {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n\r\n    const response = await apiClient.post('/api/process-srr-file', formData);\r\n    \r\n    // Convert backend response format to frontend expected format\r\n    const backendResponse = response.data;\r\n    return {\r\n      filename: backendResponse.filename,\r\n      status: backendResponse.status,\r\n      message: backendResponse.message,\r\n      data: backendResponse.structured_data, // Map structured_data to data\r\n      error: backendResponse.error,\r\n      summary: backendResponse.summary,\r\n      raw_content: backendResponse.raw_content // Include original file content for chat\r\n    };\r\n  } catch (error) {\r\n    if (axios.isAxiosError(error)) {\r\n      throw new Error(error.response?.data?.message || error.message || 'File processing failed');\r\n    }\r\n    throw new Error('Network connection failed');\r\n  }\r\n};\r\n\r\n// Multi-file batch processing API\r\nexport const processMultipleFiles = async (files: File[]): Promise<BatchProcessingResponse> => {\r\n  try {\r\n    const formData = new FormData();\r\n    \r\n    // Add all files to FormData\r\n    files.forEach((file) => {\r\n      formData.append('files', file);\r\n    });\r\n\r\n    const response = await apiClient.post('/api/process-multiple-files', formData);\r\n    \r\n    return response.data;\r\n  } catch (error) {\r\n    if (axios.isAxiosError(error)) {\r\n      throw new Error(error.response?.data?.message || error.message || 'Batch file processing failed');\r\n    }\r\n    throw new Error('Network connection failed');\r\n  }\r\n};\r\n\r\n// Health check API\r\nexport const healthCheck = async (): Promise<{ status: string; message: string }> => {\r\n  try {\r\n    const response = await apiClient.get('/health');\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error('API service unavailable');\r\n  }\r\n};\r\n\r\n// Query case information API (simulated implementation)\r\nexport const queryCase = async (request: QueryRequest): Promise<string> => {\r\n  try {\r\n    // Here you can implement actual query logic\r\n    // Currently returns simulated response\r\n    // context: extracted data raw_content: raw content of the file\r\n    const { query, context, raw_content } = request;\r\n    \r\n    // Allow chat even without uploaded files - backend can handle general queries\r\n    // and retrieve information from historical database\r\n    const response = await axios.post(`${API_BASE_URL}/api/chat`, {\r\n      query,\r\n      context: context || {},\r\n      raw_content: raw_content || ''\r\n    }, {\r\n      timeout: 30000 // 30 seconds timeout\r\n    });\r\n\r\n    // Ensure we always return a string (handle edge cases)\r\n    const data = response.data;\r\n    \r\n    // If backend returns an object (shouldn't happen now, but handle gracefully)\r\n    if (typeof data === 'object' && data !== null) {\r\n      if ('message' in data) {\r\n        return String(data.message);\r\n      }\r\n      return JSON.stringify(data);\r\n    }\r\n    \r\n    // If data is null or undefined\r\n    if (!data) {\r\n      return 'No response received from the server.';\r\n    }\r\n    \r\n    // Normal case: return as string\r\n    return String(data);\r\n\r\n    // Simple query matching logic\r\n    // const lowerQuery = query.toLowerCase();\r\n    \r\n    // if (lowerQuery.includes('case')) {\r\n    //   return `Case Number: ${context.C_case_number || 'Unknown'}\\nSource: ${context.B_source || 'Unknown'}`;\r\n    // }\r\n    \r\n    // if (lowerQuery.includes('date')) {\r\n    //   return `Date Received: ${context.A_date_received || 'Unknown'}\\n10-Day Rule Due Date: ${context.K_10day_rule_due_date || 'Unknown'}`;\r\n    // }\r\n    \r\n    // if (lowerQuery.includes('contact')) {\r\n    //   return `Caller: ${context.E_caller_name || 'Unknown'}\\nContact Number: ${context.F_contact_no || 'Unknown'}`;\r\n    // }\r\n    \r\n    // if (lowerQuery.includes('slope')) {\r\n    //   return `Slope Number: ${context.G_slope_no || 'Unknown'}\\nLocation: ${context.H_location || 'Unknown'}`;\r\n    // }\r\n    \r\n    // if (lowerQuery.includes('nature')) {\r\n    //   return `Nature of Request: ${context.I_nature_of_request || 'Unknown'}`;\r\n    // }\r\n    \r\n    // Default return case summary\r\n//     return `Case Summary:\r\n// â€¢ Case Number: ${context.C_case_number || 'Unknown'}\r\n// â€¢ Source: ${context.B_source || 'Unknown'}\r\n// â€¢ Date Received: ${context.A_date_received || 'Unknown'}\r\n// â€¢ Caller: ${context.E_caller_name || 'Unknown'}\r\n// â€¢ Slope Number: ${context.G_slope_no || 'Unknown'}\r\n// â€¢ Nature of Request: ${context.I_nature_of_request || 'Unknown'}`;\r\n    \r\n  } catch (error) {\r\n    throw new Error('Query failed, please try again later');\r\n  }\r\n};\r\n\r\n// Find similar cases API\r\nexport const findSimilarCases = async (caseData: any, limit: number = 10, minSimilarity: number = 0.3): Promise<any> => {\r\n  try {\r\n    const response = await axios.post(`${API_BASE_URL}/api/find-similar-cases`, {\r\n      ...caseData,\r\n      limit,\r\n      min_similarity: minSimilarity\r\n    }, {\r\n      timeout: 30000 // 30 seconds timeout\r\n    });\r\n    \r\n    return response.data;\r\n  } catch (error) {\r\n    if (axios.isAxiosError(error)) {\r\n      throw new Error(error.response?.data?.message || error.message || 'Failed to find similar cases');\r\n    }\r\n    throw new Error('Network connection failed');\r\n  }\r\n};\r\n\r\n// Get case statistics API\r\nexport const getCaseStatistics = async (filters: {\r\n  location?: string;\r\n  slope_no?: string;\r\n  caller_name?: string;\r\n}): Promise<any> => {\r\n  try {\r\n    const params = new URLSearchParams();\r\n    if (filters.location) params.append('location', filters.location);\r\n    if (filters.slope_no) params.append('slope_no', filters.slope_no);\r\n    if (filters.caller_name) params.append('caller_name', filters.caller_name);\r\n    \r\n    const response = await axios.get(`${API_BASE_URL}/api/case-statistics?${params.toString()}`, {\r\n      timeout: 30000\r\n    });\r\n    \r\n    return response.data;\r\n  } catch (error) {\r\n    if (axios.isAxiosError(error)) {\r\n      throw new Error(error.response?.data?.message || error.message || 'Failed to get statistics');\r\n    }\r\n    throw new Error('Network connection failed');\r\n  }\r\n};\r\n\r\n// å‘åç«¯å‘é€è¯·æ±‚\r\nconst registerToBackend = async () => {\r\n    // 1. åç«¯æ¥å£åœ°å€ï¼ˆå’Œä½ åç«¯å®šä¹‰çš„ /api/register ä¸€è‡´ï¼‰\r\n    const API_URL = 'http://localhost:8001/api/register';\r\n    \r\n    try {\r\n      // 2. å‘é€POSTè¯·æ±‚åˆ°åç«¯\r\n      const response = await axios.post(API_URL, formValues, {\r\n        headers: {\r\n          'Content-Type': 'application/json' // å‘Šè¯‰åç«¯ä¼ çš„æ˜¯JSONæ ¼å¼\r\n        },\r\n        timeout: 10000 // 10ç§’è¶…æ—¶\r\n      });\r\n\r\n      // 3. åç«¯è¿”å›æˆåŠŸçš„å¤„ç†\r\n      alert('Registration successful! ğŸ‰');\r\n      console.log('åç«¯è¿”å›æ•°æ®ï¼š', response.data);\r\n      \r\n      // 4. æ¸…ç©ºè¡¨å•\r\n      setFormValues({\r\n        username: '',\r\n        email: '',\r\n        phone: '',\r\n        password: '',\r\n        confirmPassword: ''\r\n      });\r\n\r\n      // å¯é€‰ï¼šè·³è½¬åˆ°ç™»å½•é¡µ\r\n      // window.location.href = '/login';\r\n\r\n    } catch (error) {\r\n      // 5. å¼‚å¸¸å¤„ç†ï¼ˆåç«¯è¿”å›çš„é”™è¯¯/ç½‘ç»œé”™è¯¯ï¼‰\r\n      let errorMsg = 'Registration failed!';\r\n      \r\n      // åŒºåˆ†axiosé”™è¯¯å’Œæ™®é€šé”™è¯¯\r\n      if (axios.isAxiosError(error)) {\r\n        // åç«¯è¿”å›çš„æ ¡éªŒé”™è¯¯ï¼ˆå¦‚é‚®ç®±å·²æ³¨å†Œã€æ‰‹æœºå·æ ¼å¼é”™è¯¯ï¼‰\r\n        errorMsg = error.response?.data?.detail || error.message;\r\n      }\r\n      \r\n      alert(errorMsg);\r\n      console.error('æ³¨å†Œå¤±è´¥åŸå› ï¼š', error);\r\n    } finally {\r\n      // 6. æ— è®ºæˆåŠŸ/å¤±è´¥ï¼Œç»“æŸåŠ è½½çŠ¶æ€\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\nconst apiService = {\r\n  processFile,\r\n  processMultipleFiles,\r\n  healthCheck,\r\n  queryCase,\r\n  findSimilarCases,\r\n  getCaseStatistics,\r\n};\r\n\r\nexport default apiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}